# 스토리지 관리
ABLESTACK은 Primary(기본) 및 Secondary(2차)의 두 가지 유형의 스토리지를 정의합니다. 기본 스토리지는 iSCSI 또는 NFS로 엑세스 하거나 직접 호스트에 연결된 스토리지를 기본 스토리지로 사용할 수 있습니다. 2차 스토리지는 항상 NFS를 사용하여 액세스됩니다.

## Primary(기본) 스토리지
....
## Secondary(2차) 스토리지
....

## 볼륨 관리
볼륨은 게스트 VM에 스토리지를 제공합니다. 볼륨은 루트 디스크 또는 추가 데이터 디스크를 제공할 수 있습니다. ABLESTACK은 게스트 VM에 대한 추가 볼륨을 지원합니다.

특정 하이퍼 바이저 유형에 대해 볼륨이 생성됩니다. 하나의 하이퍼 바이저 유형 (예 : KVM)을 사용하여 게스트에 연결된 볼륨은 다른 하이퍼 바이저 유형 (예 : vSphere, Xenserver)을 사용하는 게스트에 연결할 수 없습니다. 이는 서로 다른 하이퍼 바이저가 서로 다른 디스크 이미지 형식을 사용하기 때문입니다.

ABLESTACK은 볼륨을 게스트 VM에서 사용할 수 있는 스토리지 단위로 정의합니다. 볼륨은 루트 디스크 또는 데이터 디스크입니다. 루트 디스크는 파일 시스템에 "/"가 있으며 일반적으로 부팅 장치입니다. 데이터 디스크는 "/ opt"또는 "D :"와 같은 추가 스토리지를 제공합니다. 모든 게스트 VM에는 루트 디스크가 있으며 VM에는 선택적으로 데이터 디스크가 있을 수도 있습니다. 최종 사용자는 게스트 VM에 여러 데이터 디스크를 탑재 할 수 있습니다. 사용자는 관리자가 만든 디스크 오퍼링에서 데이터 디스크를 선택합니다. 사용자는 볼륨에서 템플릿을 만들 수도 있습니다. 이것은 개인 템플릿 생성을위한 표준 절차입니다. 볼륨은 하이퍼 바이저별로 다릅니다. 한 하이퍼 바이저 유형의 볼륨은 다른 하이퍼 바이저 유형의 게스트에서 사용할 수 없습니다.

### 볼륨생성
...
### VM에 기존 볼륨 업로드
...
### VM에 볼륨 연결
...
### 볼륨 연결 해제 및 다른 VM에 볼륨 연결
...
### 다른 스토리지로 볼륨 이관
...
### 볼륨 사이즈 변경
...
### 디스크 오퍼링을 통한 루트 볼륨 사이즈 변경
...
### 루트 볼륨 변경(VM 재부팅시)
...
### 볼륨 삭제 및 볼륨 영구 삭제
...
## 볼륨 스냅샷 관리
ABLESTACK은 디스크 볼륨의 스냅 샷을 지원합니다. 스냅 샷은 가상 머신 디스크의 시점 캡처입니다. 메모리 및 CPU 상태는 캡처되지 않습니다. Oracle VM 하이퍼 바이저를 사용하는 경우 OVM에서 지원하지 않으므로 스냅 샷을 만들 수 없습니다.
!!! note
    ABLESTACK은 하이퍼바이저에 다음의 하이퍼 바이저에 한하여 볼륨 스냅샷을 지원합니다.
    
    - KVM
    - VMware vSphere
    - Xenserver

루트 및 데이터 디스크를 포함하여 볼륨에 대해 스냅 샷을 찍을 수 있습니다. 관리자는 사용자 당 저장되는 스냅 샷 수를 제한할 수 있습니다. 사용자는 특정 파일의 복구를 위해 스냅 샷에서 새 볼륨을 생성할 수 있으며 복원 된 디스크에서 부팅하기 위해 스냅 샷에서 템플릿을 생성할 수 있습니다.

사용자는 수동으로 또는 스케쥴링 스냅 샷 정책을 설정하여 스냅 샷을 생성할 수 있습니다. 사용자는 다른 디스크 볼륨처럼 VM에 연결할 수 있는 스냅 샷에서 디스크 볼륨을 만들 수도 있습니다. 루트 디스크와 데이터 디스크 모두의 스냅 샷이 지원됩니다. 그러나 현재 복구 된 루트 디스크에서 VM 부팅을 지원하지 않습니다. 루트 디스크의 스냅 샷에서 복구 된 디스크는 일반 데이터 디스크로 취급됩니다. 복구 된 디스크의 데이터는 디스크를 VM에 연결하여 액세스 할 수 있습니다.

완료된 스냅 샷은 기본 스토리지에서 2차 스토리지로 복사되며 새로운 스냅 샷에 의해 삭제되거나 제거 될 때까지 저장됩니다.
### 스냅샷 생성 
....
###