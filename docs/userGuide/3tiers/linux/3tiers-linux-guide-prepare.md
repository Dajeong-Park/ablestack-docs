본 문서에서는 ABLESTACK Mold를 이용해 "이중화를 통한 고가용성 기능을 제공하는 3계층 구조"를 구성합니다. 
이를 위해 독립된 네트워크 공간에 VM을 생성하고 LB를 적용해야 하는데 다음의 단계로 구성됩니다.

1. VPC 및 서브넷 생성: VPC(Virtual Private Cloud)를 생성하고 서브넷(Subnet)을 생성합니다.
2. 가상머신 생성: 생성된 서브넷에서 WEB, WAS, DB 각각 3대(총 9대)의 가상머신을 SSHKeyPair 및 Affinity을 설정하여 추가합니다.
3. 가상머신 디스크 설정: 생성된 가상머신의 데이터 디스크 볼륨 구성합니다.
4. 가상머신 WEB, WAS, DB 구성: 도커 컨테이너를 이용하여 WEB, WAS를 구성하고, 갈레라 클러스터(Galera Cluster)를 통해 DB를 구성합니다.
5. LB 구성: 동일 서브넷 상의 VM들을 하나의 Public IP를 생성하여 LB로 구성합니다.

이와같은 절차에 따라 구성을 수행합니다. 

## 아키텍처

### 구성 정보
#### 네트워크
- VPC
    - CIDR: 192.168.0.0/16
- Subnet
    - WEB
        - CIDR: 192.168.1.0/16
        - 게이트웨이: 192.168.1.1
    - WAS
        - CIDR: 192.168.2.0/16
        - 게이트웨이: 192.168.2.1
    - DB
        - CIDR: 192.168.3.0/16
        - 게이트웨이: 192.168.3.1
- LB 
    - WEB
        - 10.10.1.60:9090
    - WAS
        - 10.10.1.70:5050
    - DB
        - 10.10.1.80:3306

#### 가상머신
- WEB
    - WEB VM1
        - Offering: 1Core 2GB
        - IP: 192.168.1.11
        - 게이트웨이: 192.168.1.1
- WAS
    - CIDR: 192.168.2.0/16
    - 게이트웨이: 192.168.2.1
- DB
    - CIDR: 192.168.3.0/16
    - 게이트웨이: 192.168.3.1

아키텍처

<center>
![3tier-linux-01](../../../../assets/images/3tier-linux-architecture.png)
</center>

